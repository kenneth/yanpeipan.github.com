---
layout: post
title: "PHP高级特性"
description: ""
category: 
tags: [PHP]
---
{% include JB/setup %}

---

# 面向对象基础回顾

## 什么是对象？什么是类？两者有什么区别和联系？

类是对一类事物描述，是抽象的、概念上的定义；\\
对象是实际存在的该类事物的每个个体，因而也称实例(instance)。在计算机中，可以理解为，在内存中创建了实实在在存在的一个内存区域存储着这个对象。\\
创建对象的过程称为创建对象，也称为实例化。

## 什么是继承？PHP支持怎样的继承？

> 继承（Inheritance）是面向对象软件技术当中的一个概念。继承可以使得子类别具有父类别的各种属性和方法，而不需要再次编写相同的代码。

> 一个扩充类总是依赖一个单独的基类，也就是说，不支持多继承。使用关键字“extends”来扩展一个类。

## 什么是重写（overriding）？PHP是否支持重载（overloading）？

Java 重写(Override)与重载(Overload)

> 重写是子类对父类的允许访问的方法的实现过程进行重新编写！返回值和形参都不能改变。即外壳不变，核心重写！

> 重载(overloading) 是在一个类里面，方法名字相同，而参数不同。返回类型呢？可以相同也可以不同。

## 什么是静态方法？什么情况下适合使用静态方法？

> 静态方法只要定义了类，不必建立类的实例就可使用

全部静态意味着牺牲了OOP的三个特性，也就意味着放弃了封装、集成、多态。另外，由于没有统一编码习惯和约定，很多东西不做抽象，不做单一入口，代码本身的复用以及维护都是个问题。写多了这种代码，估计工程师本身的成就感都是个问题。
个人理解下面这几种情景下使用static关键字会比较合适：\\

* util类(或者某个类中充当了util角色的method)
* 一些特殊的design pattern中，比如static factory、singleton pattern中
* 某项被封装的功能，即使类不实例化，也可以调用并且不觉得别扭、奇怪，不依赖类内部的其它非静态成员

## 什么是类常量？什么情况下应该使用类常量？

> 可以把在类中始终保持不变的值定义为常量。

> 常量的值必须是一个定值，不能是变量，类属性，数学运算的结果或函数调用。

## 什么是抽象类？什么是接口？分别适用于何种场景？

> 定义为抽象的类不能被实例化。任何一个类，如果它里面至少有一个方法是被声明为抽象的，那么这个类就必须被声明为抽象的。被定义为抽象的方法只是声明了其调用方式（参数），不能定义其具体的功能实现。

> 使用接口（interface），可以指定某个类必须实现哪些方法，但不需要定义这些方法的具体内容。接口是通过 interface 关键字来定义的，就像定义一个标准的类一样，但其中定义所有的方法都是空的。接口中定义的所有方法都必须是公有，这是接口的特性。

* 接口没有构造函数，抽象类可以有构造函数。
* 接口中的方法默认都是public类型的。而抽象类中的方法可以使用private,protected或public来修饰。
* 一个类可以同时实现多个接口。一个类只能继承一个抽象类。

抽象类还是接口

* 如果要创建一个模型，这个模型将由一些紧密相关的对象采用，就可以使用抽象类。如果要创建由一些不相关对象采用的功能，就使用接口。
* 如果必须从多个来源继承行为，就使用接口。
* 如果知道所有类都会共享一个公共的行为实现，就可以使用抽象类，并在其中实现该行为。

---

# 异常处理

## 程序中运行时出现的问题， 该怎样处理？

## 什么是异常？

异常处理，是编程语言或计算机硬件里的一种机制，用于处理软件或信息系统中出现的异常状况（即超出程序正常执行流程的某些特殊条件）。

## 怎么样产生一个异常？怎样处理产生的异常？

    function inverse($x) {
        if (!$x) {
            throw new Exception('Division by zero.');
        }
        else return 1/$x;
    }
    
    try {
        echo inverse(5) . "\n";
        echo inverse(0) . "\n";
    } catch (Exception $e) {
        echo 'Caught exception: ',  $e->getMessage(), "\n";
    }

## 怎样自定义异常？

    class MyException extends Exception { }

## try\catch\finally是怎样协同工作的？

![](http://laruence-wordpress.stor.sinaapp.com/uploads/finally-executionflow.png)

## PHP的error, warning, notice等类型的错误，怎样通过抛出异常的方式处理？

trigger_error — 产生一个用户级别的 error/warning/notice 信息

## 怎样捕捉PHP中的致命错误？

`set_error_handler("customError");`

---

# 参考

[PHP在Web开发中static的使用场景](http://thisisbaozi.github.io/blog/2014/02/12/phpzai-webkai-fa-zhong-staticde-shi-yong-chang-jing/)\\
[魔术方法，延迟绑定及静态成员](http://www.php-internals.com/book/?p=chapt05/05-05-class-magic-methods-latebinding)\\
[后期静态绑定](http://php.net/manual/zh/language.oop5.late-static-bindings.php)\\
[PHP的新特性finally](http://www.laruence.com/2012/08/16/2709.html)\\
